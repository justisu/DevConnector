{"ast":null,"code":"import React,{useEffect,Fragment}from'react';import{connect}from'react-redux';import{Link,Navigate}from'react-router-dom';import Spinner from'../layouts/Spinner';import{getCurrentProfile,deleteAccount}from'../../actions/profile';import{DashboardActions}from'./DashboardActions';import Experience from'./Experience';import Education from'./Education';// import '../../App.css';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{auth:{user,isAuthenticated,loading:authLoading},profile:{profile,loading},getCurrentProfile,deleteAccount}=_ref;useEffect(()=>{getCurrentProfile();},[getCurrentProfile]);useEffect(()=>{const styleSheetElements=document.querySelectorAll('link[rel=stylesheet]');for(var i=0;i<styleSheetElements.length;i++){styleSheetElements[i].parentNode.removeChild(styleSheetElements[i]);}console.log(\"removed stylesheet....\");// var head = document.getElementsByTagName('head')[0];      \n// var style = document.createElement('link');\n// style.href = '../../App.css'\n// style.type = 'text/css'\n// style.rel = 'stylesheet'\n// head.append(style);\n},[]);if(!isAuthenticated&&!authLoading){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return loading&&profile===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"large text-primary-app\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead-app\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\"Welcome \",user&&user.name]}),profile!==null?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(DashboardActions,{}),/*#__PURE__*/_jsx(Experience,{experience:profile.experience}),/*#__PURE__*/_jsx(Education,{education:profile.education}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger-app\",onClick:()=>deleteAccount(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-minus\"}),\" Delete My Account\"]})})]}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"You have not yet setup a Profile. Please add some information\",/*#__PURE__*/_jsx(Link,{to:\"/dev/create-profile\",className:\"btn btn-primary-app my-1\",children:\"Create Profile\"})]})})]});};const mapStateToProps=state=>({auth:state.auth,profile:state.profile});export default connect(mapStateToProps,{getCurrentProfile,deleteAccount})(Dashboard);","map":{"version":3,"names":["React","useEffect","Fragment","connect","Link","Navigate","Spinner","getCurrentProfile","deleteAccount","DashboardActions","Experience","Education","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","auth","user","isAuthenticated","loading","authLoading","profile","styleSheetElements","document","querySelectorAll","i","length","parentNode","removeChild","console","log","to","children","className","name","experience","education","onClick","mapStateToProps","state"],"sources":["/Users/sudhin.justin/source/Projects/devconnector/server/client/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { useEffect, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Navigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Spinner from '../layouts/Spinner';\nimport { getCurrentProfile, deleteAccount } from '../../actions/profile';\nimport { DashboardActions } from './DashboardActions';\nimport Experience from './Experience';\nimport Education from './Education';\n\n// import '../../App.css';\n\nconst Dashboard = ({ auth: { user, isAuthenticated, loading: authLoading }, profile: { profile, loading }, getCurrentProfile, deleteAccount }) => {\n  useEffect(() => {\n    getCurrentProfile();\n  }, [getCurrentProfile]);\n\n  useEffect(() => {\n    const styleSheetElements = document.querySelectorAll('link[rel=stylesheet]');\n    for(var i=0;i<styleSheetElements.length;i++){\n      styleSheetElements[i].parentNode.removeChild(styleSheetElements[i]);\n    }\nconsole.log(\"removed stylesheet....\");\n    // var head = document.getElementsByTagName('head')[0];      \n    // var style = document.createElement('link');\n    // style.href = '../../App.css'\n    // style.type = 'text/css'\n    // style.rel = 'stylesheet'\n    // head.append(style);\n  }, []);\n\n  if(!isAuthenticated && !authLoading) {\n    return <Navigate to='/login' />\n  }\n  return (\n    loading && profile === null \n    ? <Spinner /> \n    : <Fragment>\n        <h1 className='large text-primary-app'>Dashboard</h1>\n        <p className='lead-app'>\n          <i className='fas fa-user'></i>\n          Welcome { user && user.name }\n        </p>\n        {\n          profile !== null \n            ? <Fragment>\n                <DashboardActions />\n                <Experience experience={profile.experience} />\n                <Education education={profile.education} />\n\n                <div>\n                  <button className='btn btn-danger-app' onClick={() => deleteAccount()}>\n                    <i className='fas fa-user-minus'></i> Delete My Account</button>\n                </div>\n              </Fragment>\n            : <Fragment>\n                <p>You have not yet setup a Profile. Please add some information\n                  <Link to=\"/dev/create-profile\" className='btn btn-primary-app my-1'>Create Profile</Link>\n                </p>\n              </Fragment>\n        }\n      </Fragment>\n  )\n}\n\nDashboard.propTypes = {\n  auth: PropTypes.object.isRequired,\n  getCurrentProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired,\n  deleteAccount: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  profile: state.profile,\n});\n\nexport default connect(mapStateToProps, { getCurrentProfile, deleteAccount })(Dashboard);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}