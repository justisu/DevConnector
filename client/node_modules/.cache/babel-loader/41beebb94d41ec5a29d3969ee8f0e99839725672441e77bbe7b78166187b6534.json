{"ast":null,"code":"import React,{useEffect,Fragment}from'react';import{connect}from'react-redux';import{Link,Navigate}from'react-router-dom';import Spinner from'../layouts/Spinner';import{getCurrentProfile,deleteAccount}from'../../actions/profile';import{DashboardActions}from'./DashboardActions';import Experience from'./Experience';import Education from'./Education';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{auth:{user,isAuthenticated,loading:authLoading},profile:{profile,loading},getCurrentProfile,deleteAccount}=_ref;useEffect(()=>{getCurrentProfile();},[getCurrentProfile]);if(!isAuthenticated&&!authLoading){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return loading&&profile===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"large text-primary-app\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead-app\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\"Welcome \",user&&user.name]}),profile!==null?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(DashboardActions,{}),/*#__PURE__*/_jsx(Experience,{experience:profile.experience}),/*#__PURE__*/_jsx(Education,{education:profile.education}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger-app\",onClick:()=>deleteAccount(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-minus\"}),\" Delete My Account\"]})})]}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"You have not yet setup a Profile. Please add some information\",/*#__PURE__*/_jsx(Link,{to:\"/dev/create-profile\",className:\"btn btn-primary-app my-1\",children:\"Create Profile\"})]})})]});};const mapStateToProps=state=>({auth:state.auth,profile:state.profile});export default connect(mapStateToProps,{getCurrentProfile,deleteAccount})(Dashboard);","map":{"version":3,"names":["React","useEffect","Fragment","connect","Link","Navigate","Spinner","getCurrentProfile","deleteAccount","DashboardActions","Experience","Education","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","auth","user","isAuthenticated","loading","authLoading","profile","to","children","className","name","experience","education","onClick","mapStateToProps","state"],"sources":["/Users/sudhin.justin/source/Projects/devconnector/server/client/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { useEffect, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Navigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Spinner from '../layouts/Spinner';\nimport { getCurrentProfile, deleteAccount } from '../../actions/profile';\nimport { DashboardActions } from './DashboardActions';\nimport Experience from './Experience';\nimport Education from './Education';\n\nconst Dashboard = ({ auth: { user, isAuthenticated, loading: authLoading }, profile: { profile, loading }, getCurrentProfile, deleteAccount }) => {\n  useEffect(() => {\n    getCurrentProfile();\n  }, [getCurrentProfile]);\n\n\n  if(!isAuthenticated && !authLoading) {\n    return <Navigate to='/login' />\n  }\n  return (\n    loading && profile === null \n    ? <Spinner /> \n    : <Fragment>\n        <h1 className='large text-primary-app'>Dashboard</h1>\n        <p className='lead-app'>\n          <i className='fas fa-user'></i>\n          Welcome { user && user.name }\n        </p>\n        {\n          profile !== null \n            ? <Fragment>\n                <DashboardActions />\n                <Experience experience={profile.experience} />\n                <Education education={profile.education} />\n\n                <div>\n                  <button className='btn btn-danger-app' onClick={() => deleteAccount()}>\n                    <i className='fas fa-user-minus'></i> Delete My Account</button>\n                </div>\n              </Fragment>\n            : <Fragment>\n                <p>You have not yet setup a Profile. Please add some information\n                  <Link to=\"/dev/create-profile\" className='btn btn-primary-app my-1'>Create Profile</Link>\n                </p>\n              </Fragment>\n        }\n      </Fragment>\n  )\n}\n\nDashboard.propTypes = {\n  auth: PropTypes.object.isRequired,\n  getCurrentProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired,\n  deleteAccount: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  profile: state.profile,\n});\n\nexport default connect(mapStateToProps, { getCurrentProfile, deleteAccount })(Dashboard);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,IAAI,CAAEC,QAAQ,KAAQ,kBAAkB,CAEjD,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,OAASC,iBAAiB,CAAEC,aAAa,KAAQ,uBAAuB,CACxE,OAASC,gBAAgB,KAAQ,oBAAoB,CACrD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAgI,IAA/H,CAAEC,IAAI,CAAE,CAAEC,IAAI,CAAEC,eAAe,CAAEC,OAAO,CAAEC,WAAY,CAAC,CAAEC,OAAO,CAAE,CAAEA,OAAO,CAAEF,OAAQ,CAAC,CAAEd,iBAAiB,CAAEC,aAAc,CAAC,CAAAS,IAAA,CAC3IhB,SAAS,CAAC,IAAM,CACdM,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAACA,iBAAiB,CAAC,CAAC,CAGvB,GAAG,CAACa,eAAe,EAAI,CAACE,WAAW,CAAE,CACnC,mBAAOT,IAAA,CAACR,QAAQ,EAACmB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CACA,MACE,CAAAH,OAAO,EAAIE,OAAO,GAAK,IAAI,cACzBV,IAAA,CAACP,OAAO,GAAE,CAAC,cACXS,KAAA,CAACb,QAAQ,EAAAuB,QAAA,eACPZ,IAAA,OAAIa,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,WAAS,CAAI,CAAC,cACrDV,KAAA,MAAGW,SAAS,CAAC,UAAU,CAAAD,QAAA,eACrBZ,IAAA,MAAGa,SAAS,CAAC,aAAa,CAAI,CAAC,WACvB,CAAEP,IAAI,EAAIA,IAAI,CAACQ,IAAI,EAC1B,CAAC,CAEFJ,OAAO,GAAK,IAAI,cACZR,KAAA,CAACb,QAAQ,EAAAuB,QAAA,eACPZ,IAAA,CAACJ,gBAAgB,GAAE,CAAC,cACpBI,IAAA,CAACH,UAAU,EAACkB,UAAU,CAAEL,OAAO,CAACK,UAAW,CAAE,CAAC,cAC9Cf,IAAA,CAACF,SAAS,EAACkB,SAAS,CAAEN,OAAO,CAACM,SAAU,CAAE,CAAC,cAE3ChB,IAAA,QAAAY,QAAA,cACEV,KAAA,WAAQW,SAAS,CAAC,oBAAoB,CAACI,OAAO,CAAEA,CAAA,GAAMtB,aAAa,CAAC,CAAE,CAAAiB,QAAA,eACpEZ,IAAA,MAAGa,SAAS,CAAC,mBAAmB,CAAI,CAAC,qBAAkB,EAAQ,CAAC,CAC/D,CAAC,EACE,CAAC,cACXb,IAAA,CAACX,QAAQ,EAAAuB,QAAA,cACPV,KAAA,MAAAU,QAAA,EAAG,+DACD,cAAAZ,IAAA,CAACT,IAAI,EAACoB,EAAE,CAAC,qBAAqB,CAACE,SAAS,CAAC,0BAA0B,CAAAD,QAAA,CAAC,gBAAc,CAAM,CAAC,EACxF,CAAC,CACI,CAAC,EAET,CAAC,CAEjB,CAAC,CASD,KAAM,CAAAM,eAAe,CAAGC,KAAK,GAAK,CAChCd,IAAI,CAAEc,KAAK,CAACd,IAAI,CAChBK,OAAO,CAAES,KAAK,CAACT,OACjB,CAAC,CAAC,CAEF,cAAe,CAAApB,OAAO,CAAC4B,eAAe,CAAE,CAAExB,iBAAiB,CAAEC,aAAc,CAAC,CAAC,CAACQ,SAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}